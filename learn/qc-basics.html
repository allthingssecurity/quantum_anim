<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>QCEngine Basics — Code + Histogram</title>
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body>
  <header>
    <h1>QCEngine Basics</h1>
    <nav class="nav">
      <a href="index.html">Home</a>
      <a href="js.html">JavaScript</a>
      <a href="math-simple.html">QC Math</a>
      <a href="qc-basics.html">QC Basics</a>
      <a href="qc-explain.html">Quantum Concepts</a>
      <a href="learn-track.html">Guided Track</a>
      <a href="../playground/index.html">Playground</a>
      <a href="quantum-mario.html">Quantum Mario</a>
    </nav>
  </header>
  <div class="wrap">
    <div class="layout">
      <section class="card">
        <h2>Core Commands</h2>
        <ul>
          <li><code>qc.reset(n)</code> — start with n qubits in |00…0⟩</li>
          <li><code>qc.had(i)</code> — fair “coin” on qubit i (≈ 50/50)</li>
          <li><code>qc.x(i)</code> — flip bit i (0 ↔ 1)</li>
          <li><code>qc.cnot(c,t)</code> — if control c is 1, flip target t</li>
          <li><code>qc.measure()</code> — sample and collapse; run many shots for histograms</li>
        </ul>
        <h3>Quick Demos</h3>
        <pre><code>// 1) Superposition
qc.reset(1); qc.had(0); qc.measure();
// 2) Entanglement
qc.reset(2); qc.had(0); qc.cnot(0,1); qc.measure();
// 3) Interference
qc.reset(1); qc.had(0); qc.rz(0, Math.PI/3); qc.had(0); qc.measure();</code></pre>
        <p class="note">Edit any example on the right and click Run shots to see the histogram change.</p>
      </section>
      <aside class="card">
        <h2>Editor</h2>
        <div class="toolbar">
          <select id="examples">
            <option value="sup">Superposition</option>
            <option value="bell">Bell pair</option>
            <option value="intf">Interference</option>
            <option value="grover">Grover (2‑q toy)</option>
          </select>
          <button id="load">Load</button>
          <label>Shots</label>
          <input id="shots" type="number" min="1" max="100000" value="200" style="width:110px" />
          <button id="run">Run shots</button>
        </div>
        <textarea id="code">// Superposition
qc.reset(1); qc.had(0); qc.measure();
</textarea>
        <h3>Histogram</h3>
        <div id="hist" class="bars"></div>
        <h3>Log</h3>
        <pre id="out" style="min-height:120px"></pre>
      </aside>
    </div>
  </div>
  <script src="../qcengine.js"></script>
  <script>
    const EX={
      sup:`qc.reset(1);\nqc.had(0);\nqc.measure();\n`,
      bell:`qc.reset(2);\nqc.had(0);\nqc.cnot(0,1);\nqc.measure();\n`,
      intf:`qc.reset(1);\nqc.had(0);\nqc.rz(0, Math.PI/3);\nqc.had(0);\nqc.measure();\n`,
      grover:`qc.reset(2);\nqc.had(0); qc.had(1);\nqc.phase_flip('11');\nqc.had(0); qc.had(1);\nqc.phase_flip('00');\nqc.had(0); qc.had(1);\nqc.measure();\n`
    };
    const code=document.getElementById('code');
    const out=document.getElementById('out');
    const hist=document.getElementById('hist');
    function render(counts,n){ const m=Math.max(1,...counts); hist.innerHTML=''; counts.forEach((c,i)=>{ const b=document.createElement('div'); b.className='bar'; b.style.height=`${(c/m)*100}%`; const L=document.createElement('div'); L.className='label'; L.textContent=i.toString(2).padStart(n,'0'); const V=document.createElement('div'); V.className='value'; V.textContent=String(c); b.appendChild(L); b.appendChild(V); hist.appendChild(b); }); }
    document.getElementById('run').addEventListener('click',()=>{ const s=Math.max(1,Math.min(100000,parseInt(document.getElementById('shots').value,10)||200)); const {counts,nQubits,log}=window.QCEngineRunner.runProgram(code.value, s); render(counts,nQubits); out.textContent=log.join('\n'); });
    document.getElementById('load').addEventListener('click',()=>{ const k=document.getElementById('examples').value; code.value=EX[k]||''; hist.innerHTML=''; out.textContent=''; });
  </script>
</body>
</html>
